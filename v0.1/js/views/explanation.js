(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("views/explanation",["jquery","underscore","backbone","text!templates/explanation-section.html","text!templates/explanation-head.html"],function(e,n,r,i,s){var o;return o=function(r){function o(e){o.__super__.constructor.apply(this,arguments)}return t(o,r),o.prototype.sectionTemplate=n.template(i),o.prototype.headTemplate=n.template(s),o.prototype.events={"click .js-file-link":"scrollToTarget","click .js-line-link":"scrollToTarget"},o.prototype.scrollToTarget=function(t){var n,r,i;return i=e(t.target).data("target"),r=e("#"+i),n=e("#target-gist"),n.scrollTop(n.scrollTop()+r.position().top-70)},o.prototype.render=function(e){return o.disableHighlighting(),e=+e||0,e!==0?this.renderSection(e):this.renderHead(),this},o.prototype.renderSection=function(e){var t,n,r,i,s;return r=this.model.get("sections").length,e>r&&(e=r),s=this.model.getSection(e),n=s.el,i=s.targetList,t=s.caption,o.highlightTargets(i),this.$el.html(this.sectionTemplate({el:n,length:r,targetList:i,caption:t,thisGistId:this.model.getGistId(),currentSectionNumber:e})),this},o.prototype.renderHead=function(){var e,t;return t=this.model.get("sections").length,e=this.model.getHead().el,this.$el.html(this.headTemplate({el:e,length:t,thisGistId:this.model.getGistId()})),this},o.disableHighlighting=function(){return e(".highlighted").removeClass("highlighted")},o.highlightTargets=function(t){var n,r,i,s,o,u,a,f;f=[];for(u=0,a=t.length;u<a;u++)o=t[u],n=o[0],s=o[1],r=n.replace(/\./g,"-").trim(),f.push(function(){var t,n,o;o=[];for(t=0,n=s.length;t<n;t++)i=s[t],o.push(e("#"+r+"-"+i).addClass("highlighted"));return o}());return f},o}(r.View)})}).call(this);